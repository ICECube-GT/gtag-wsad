<!DOCTYPE html>
<html lang="en" class=""><head><script>window.livecodes = window.livecodes || {};</script><title>Blank Project</title><meta name="title" content="Blank Project"><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><style id="__livecodes_styles__"></style><script src="https://cdn.jsdelivr.net/npm/es-module-shims@1.10.0/dist/es-module-shims.js" async=""></script><script type="importmap">{
  "imports": {}
}</script></head><body>


    <meta charset="UTF-8">
    <title>GTWASD - Launch Edition</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Arial Black', sans-serif; color: #fff; }
        #overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; background: radial-gradient(circle, #222 0%, #000 100%);
            z-index: 100; transition: 0.5s;
        }
        .box { background: #111; padding: 40px; border: 4px solid #0f0; border-radius: 20px; text-align: center; }
        #launchBtn {
            display: none; background: #0f0; color: #000; border: none; 
            padding: 20px 50px; font-size: 24px; font-weight: bold; 
            cursor: pointer; margin-top: 20px; border-radius: 10px;
            box-shadow: 0 0 20px #0f0;
        }
        #launchBtn:hover { transform: scale(1.1); background: #00ff66; }
        #status { margin-top: 15px; font-family: monospace; color: #0f0; font-size: 14px; }
        input[type="file"] { color: #888; margin-bottom: 10px; }
    </style>



    <div id="overlay">
        <div class="box">
            <h1 style="color:#0f0; margin-top:0;">GTWASD</h1>
            <p>UPLOAD MAP TO ACTIVATE</p>
            <input type="file" id="mapInput" accept=".gtlf">
            <br>
            <button id="launchBtn">LAUNCH GAME</button>
            <div id="status">Waiting for gorilla_tag_map.gtlf...</div>
        </div>
    </div>

    <script type="module">
        import * as THREE from 'https://unpkg.com/three@0.157.0/build/three.module.js';
        import { GLTFLoader } from 'https://unpkg.com/three@0.157.0/examples/jsm/loaders/GLTFLoader.js';
        import { PointerLockControls } from 'https://unpkg.com/three@0.157.0/examples/jsm/controls/PointerLockControls.js';

        // 1. ENGINE SETUP
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x87CEEB);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);
        camera.position.set(0, 10, 50);

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);
        scene.add(new THREE.AmbientLight(0xffffff, 1.8));

        const controls = new PointerLockControls(camera, document.body);
        const mapInput = document.getElementById('mapInput');
        const launchBtn = document.getElementById('launchBtn');
        const status = document.getElementById('status');
        const overlay = document.getElementById('overlay');

        let zipData = null;

        // 2. DETECTION
        mapInput.addEventListener('change', (e) => {
            if (e.target.files[0]) {
                zipData = e.target.files[0];
                status.innerText = "FILE DETECTED: Ready to load.";
                launchBtn.style.display = "inline-block";
                mapInput.style.display = "</script><script></script></body></html>